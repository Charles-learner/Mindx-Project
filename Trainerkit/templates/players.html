<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Trainerkit - Quản lý Cầu thủ</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <script src="https://cdn.tailwindcss.com"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="/static/style.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body class="light">
  <!-- NAV -->
  <div class="navbar-container">
    <div class="navbar">
      <div class="navbar-left">
        <a href="/">🏠 Home</a>
        <a href="/players" class="active">👥 Players</a>
        <a href="/chart">📊 Analysis</a>
        <a href="/comp">📊 Comparison</a>
        <a href="/player">👤 Player</a>
      </div>
      <div class="navbar-right">
        <button id="darkToggle" class="toggle-btn">🌙 Dark Mode</button>
      </div>
    </div>
  </div>

  <div class="max-w-6xl mx-auto px-6 py-28">
    <h1 class="page-title">👥 Quản lý Cầu thủ</h1>

    <!-- Add form -->
    <div class="info-card">
      <div class="grid-3">
        <input id="name" placeholder="Tên cầu thủ" />
        <input id="age" type="number" min="10" max="60" placeholder="Tuổi" />
        <select id="position">
          <option value="">-- Vị trí --</option>
          <option value="Goalkeeper">Goalkeeper</option>
          <option value="Defender">Defender</option>
          <option value="Midfielder">Midfielder</option>
          <option value="Forward">Forward</option>
        </select>
      </div>

      <!-- Common -->
      <div class="grid-3 mt-3">
        <input id="goals" type="number" min="0" placeholder="⚽ Goals" />
        <input id="assists" type="number" min="0" placeholder="🅰️ Assists" />
        <input id="stamina" type="number" min="0" max="100" placeholder="💪 Stamina (0-100)" />
      </div>

      <!-- GK -->
      <div id="gkFields" class="grid-3 mt-3" style="display:none">
        <input id="games" type="number" min="0" placeholder="Games" />
        <input id="clean_sheets" type="number" min="0" placeholder="Clean sheets" />
        <input id="saves" type="number" min="0" placeholder="Saves" />
        <input id="high_claims" type="number" min="0" placeholder="High claims" />
        <input id="catches" type="number" min="0" placeholder="Catches" />
      </div>

      <!-- DEF -->
      <div id="defFields" class="grid-3 mt-3" style="display:none">
        <input id="tackles" type="number" min="0" placeholder="Tackles" />
        <input id="clearances" type="number" min="0" placeholder="Clearances" />
        <input id="blocks" type="number" min="0" placeholder="Blocks" />
        <input id="interceptions" type="number" min="0" placeholder="Interceptions" />
      </div>

      <!-- MID -->
      <div id="midFields" class="grid-3 mt-3" style="display:none">
        <input id="passes_completed" type="number" min="0" placeholder="Passes completed" />
        <input id="key_passes" type="number" min="0" placeholder="Key passes" />
        <input id="ball_recoveries" type="number" min="0" placeholder="Ball recoveries" />
        <input id="mf_dribbles" type="number" min="0" placeholder="Dribbles" />
      </div>

      <!-- FWD -->
      <div id="fwdFields" class="grid-3 mt-3" style="display:none">
        <input id="shots" type="number" min="0" placeholder="Shots" />
        <input id="shots_on_target" type="number" min="0" placeholder="Shots on target" />
        <input id="fw_dribbles" type="number" min="0" placeholder="Dribbles" />
        <input id="chances_created" type="number" min="0" placeholder="Chances created" />
      </div>

      <div class="mt-3 flex justify-end">
        <button id="btnAdd" class="btn btn-primary">➕ Thêm cầu thủ</button>
      </div>
    </div>

    <!-- List -->
    <h2 class="section-title">Danh sách</h2>
    <div class="info-card">
      <ul id="playerList"></ul>
    </div>

    <!-- Stats -->
    <h2 class="section-title">📊 Thống kê đội</h2>
    <div id="teamStats" class="info-card"></div>
  </div>

  <!-- Edit modal -->
  <div id="editModal" class="modal-overlay">
    <div class="modal-content">
      <h3 class="section-title">✏️ Chỉnh sửa</h3>
      <div class="grid-3">
        <input id="e_name" placeholder="Tên" />
        <input id="e_age" type="number" min="10" max="60" placeholder="Tuổi" />
        <select id="e_position">
          <option value="">-- Vị trí --</option>
          <option value="Goalkeeper">Goalkeeper</option>
          <option value="Defender">Defender</option>
          <option value="Midfielder">Midfielder</option>
          <option value="Forward">Forward</option>
        </select>
      </div>

      <div class="grid-3 mt-3">
        <input id="e_goals" type="number" min="0" placeholder="Goals" />
        <input id="e_assists" type="number" min="0" placeholder="Assists" />
        <input id="e_stamina" type="number" min="0" max="100" placeholder="Stamina" />
      </div>

      <div id="e_gkFields" class="grid-3 mt-3" style="display:none">
        <input id="e_games" type="number" min="0" placeholder="Games" />
        <input id="e_clean_sheets" type="number" min="0" placeholder="Clean sheets" />
        <input id="e_saves" type="number" min="0" placeholder="Saves" />
        <input id="e_high_claims" type="number" min="0" placeholder="High claims" />
        <input id="e_catches" type="number" min="0" placeholder="Catches" />
      </div>

      <div id="e_defFields" class="grid-3 mt-3" style="display:none">
        <input id="e_tackles" type="number" min="0" placeholder="Tackles" />
        <input id="e_clearances" type="number" min="0" placeholder="Clearances" />
        <input id="e_blocks" type="number" min="0" placeholder="Blocks" />
        <input id="e_interceptions" type="number" min="0" placeholder="Interceptions" />
      </div>

      <div id="e_midFields" class="grid-3 mt-3" style="display:none">
        <input id="e_passes_completed" type="number" min="0" placeholder="Passes completed" />
        <input id="e_key_passes" type="number" min="0" placeholder="Key passes" />
        <input id="e_ball_recoveries" type="number" min="0" placeholder="Ball recoveries" />
        <input id="e_mf_dribbles" type="number" min="0" placeholder="Dribbles" />
      </div>

      <div id="e_fwdFields" class="grid-3 mt-3" style="display:none">
        <input id="e_shots" type="number" min="0" placeholder="Shots" />
        <input id="e_shots_on_target" type="number" min="0" placeholder="Shots on target" />
        <input id="e_fw_dribbles" type="number" min="0" placeholder="Dribbles" />
        <input id="e_chances_created" type="number" min="0" placeholder="Chances created" />
      </div>

      <div class="mt-3 flex justify-end gap-2">
        <button id="btnSave" class="btn btn-primary">💾 Lưu</button>
        <button id="btnCancel" class="btn btn-secondary">❌ Hủy</button>
      </div>
    </div>
  </div>

  <script src="/static/players.js"></script>
  <script>
    // Dark mode
    const body=document.body, nav=document.querySelector('.navbar-container');
    document.getElementById('darkToggle').onclick=()=>{
      body.classList.toggle('dark'); nav.classList.toggle('dark');
      document.getElementById('darkToggle').textContent = body.classList.contains('dark')?'🌞 Light Mode':'🌙 Dark Mode';
    };

    // Toggle fields by position
    function toggleFields(prefix, pos){
      document.getElementById(prefix+"gkFields").style.display = (pos==="Goalkeeper") ? "grid" : "none";
      document.getElementById(prefix+"defFields").style.display = (pos==="Defender") ? "grid" : "none";
      document.getElementById(prefix+"midFields").style.display = (pos==="Midfielder") ? "grid" : "none";
      document.getElementById(prefix+"fwdFields").style.display = (pos==="Forward") ? "grid" : "none";
    }
    document.getElementById("position").onchange = e => toggleFields("", e.target.value);
    document.getElementById("e_position").onchange = e => toggleFields("e_", e.target.value);
  </script>
</body>
</html>
